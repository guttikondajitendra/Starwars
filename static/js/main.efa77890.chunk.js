(this.webpackJsonpstarwars=this.webpackJsonpstarwars||[]).push([[0],{25:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),i=n(5),o=n.n(i),s=(n(25),n(3)),u=n(6),l=n(7),p=n(9),h=n(8),j=n(12),d=n.n(j),f=n(15),b="SET_CHARACTER_DATA",O="SET_FILMS",v="SHOW_LOADING",m=function(){return function(e){return fetch("https://swapi.dev/api/people",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e({type:b,payload:t.results})})).catch((function(e){console.log(e)}))}},x=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(n,c){var r,a,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c().app.characters,n(y(!0)),!(e>=0)){t.next=12;break}return a=r[e],i=[],t.next=7,Promise.all(a.films.map((function(e){return g(e,i)})));case 7:o=t.sent,console.log(o),n({type:O,payload:o}),t.next=13;break;case 12:n({type:O,payload:[]});case 13:n(y(!1));case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},y=function(e){return function(t){t({type:v,payload:e})}},g=function(e,t){return fetch(e,{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},w=n(4),A=n(19),C=n(2),_=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).onChange=function(e){var t=e.target.value;c.props.fetchMovies(Number(t)-1)},c.state={},c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchCharacters()}},{key:"render",value:function(){var e=this.props,t=e.characters,n=e.films,r=n.sort((function(e,t){return new Date(e.release_date)-new Date(t.release_date)})),a=r&&r.length&&r[r.length-1],i=[{name:"Select"}].concat(Object(A.a)(t));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"Characters"}),Object(c.jsx)("select",{onChange:this.onChange,children:i.map((function(e,t){return Object(c.jsx)("option",{value:t,children:e.name},t)}))})]}),Object(c.jsxs)("div",{id:"films",children:[Object(c.jsx)("div",{children:"Films"}),n.map((function(e){return Object(c.jsx)("div",{children:e.title},e)}))]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"Name/Year Last movie"}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{children:a?"".concat(a.title,"-").concat(a.release_date):null})]})]})}}]),n}(a.a.Component),k=Object(w.b)((function(e,t){var n=e.app.characters||[],c=e.app.films||[];return Object(s.a)({characters:n,films:c},t)}),(function(e){return Object(C.b)({fetchCharacters:m,fetchMovies:x},e)}))(_),L=n(17),E=n.n(L),S=(n(33),function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).simpleAction=function(t){e.props.simpleAction()},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.showLoading;return Object(c.jsxs)("div",{className:"App",children:[e&&Object(c.jsx)("div",{className:"spinner",children:Object(c.jsx)(E.a,{type:"spin",color:"#000000"})}),Object(c.jsx)(k,{})]})}}]),n}(a.a.Component)),T=Object(w.b)((function(e){var t=e.app.showLoading;return Object(s.a)({showLoading:t},e)}),(function(e){return{simpleAction:function(){return e((function(e){e({type:"SIMPLE_ACTION",payload:"result_of_simple_action"})}))}}}))(S),M=n(18),N=Object(C.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{characters:t.payload};case O:return Object(s.a)(Object(s.a)({},e),{},{films:t.payload});case v:return Object(s.a)(Object(s.a)({},e),{},{showLoading:t.payload});default:return e}}});o.a.render(Object(c.jsx)(w.a,{store:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(C.d)(N,e,Object(C.a)(M.a))}(),children:Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(T,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.efa77890.chunk.js.map